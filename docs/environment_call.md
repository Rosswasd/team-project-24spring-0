# Environment Calls

All supported system calls are shown below.

| **Name**          | 	**Call Number (a7)** | 	**Description**                                                                                                                                                                                                                                           | **Inputs**                                                                         | 	**Outputs**                                                  |
|:------------------|:----------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------|:--------------------------------------------------------------|
| PrintInt	         | 1	                    | Prints an integer	                                                                                                                                                                                                                                         | a0 = integer to print                                                              | 	N/A                                                          |
| PrintFloat	       | 2	                    | Prints a floating point number	                                                                                                                                                                                                                            | fa0 = float to print                                                               | 	N/A                                                          |
| PrintDouble	      | 3	                    | Prints a double precision floating point number	                                                                                                                                                                                                           | fa0 = double to print                                                              | 	N/A                                                          |
| PrintString	      | 4	                    | Prints a null-terminated string to the console	                                                                                                                                                                                                            | a0 = the address of the string	                                                    | N/A                                                           |
| ReadInt	          | 5	                    | Reads an int from input console	                                                                                                                                                                                                                           | N/A	                                                                               | a0 = the int                                                  |
| ReadFloat	        | 6	                    | Reads a float from input console                                                                                                                                                                                                                           | 	N/A                                                                               | 	fa0 = the float                                              |
| ReadDouble	       | 7	                    | Reads a double from input console	                                                                                                                                                                                                                         | N/A	                                                                               | fa0 = the double                                              |
| ReadString	       | 8	                    | Reads a string from the console	                                                                                                                                                                                                                           | a0 = address of input buffer, a1 = maximum number of characters to read	           | N/A                                                           |
| Sbrk	             | 9	                    | Allocate heap memory	                                                                                                                                                                                                                                      | a0 = amount of memory in bytes	                                                    | a0 = address to the allocated block                           |
| Exit	             | 10	                   | Exits the program with code 0	                                                                                                                                                                                                                             | N/A	                                                                               | N/A                                                           |
| PrintChar	        | 11	                   | Prints an ascii character                                                                                                                                                                                                                                  | 	a0 = character to print (only lowest byte is considered)                          | 	N/A                                                          |
| ReadChar	         | 12	                   | Reads a character from input console	                                                                                                                                                                                                                      | N/A	                                                                               | a0 = the character                                            |
| GetCWD	           | 17                    | 	                                                                                                                                                                                                                                                          | Writes the path of the current working directory into a buffer                     | 	a0 = the buffer to write into, a1 = the length of the buffer |	a0 = -1 if the path is longer than the buffer|
| Time	             | 30	                   | Get the current time (milliseconds since 1 January 1970)                                                                                                                                                                                                   | 	N/A	                                                                              | a0 = low order 32 bits, a1=high order 32 bits                 |
| Sleep	            | 32	                   | Set the current thread to sleep for a time (not precise)	                                                                                                                                                                                                  | a0 = time to sleep in milliseconds                                                 | 	N/A                                                          |
| PrintIntHex	      | 34	                   | Prints an integer (in hexdecimal format left-padded with zeroes)	                                                                                                                                                                                          | a0 = integer to print                                                              | 	N/A                                                          |
| PrintIntBinary	   | 35	                   | Prints an integer (in binary format left-padded with zeroes)	                                                                                                                                                                                              | a0 = integer to print	                                                             | N/A                                                           |
| PrintIntUnsigned	 | 36                    | 	Prints an integer (unsigned)	                                                                                                                                                                                                                             | a0 = integer to print                                                              | 	N/A                                                          |
| RandSeed	         | 40	                   | Set seed for the underlying Java pseudorandom number generator	                                                                                                                                                                                            | a0 = index of pseudorandom number generator, a1 = the seed                         | 	N/A                                                          |
| RandInt	          | 41	                   | Get a random integer	                                                                                                                                                                                                                                      | a0 = index of pseudorandom number generator	                                       | a0 = random integer                                           |
| RandIntRange	     | 42	                   | Get a random bounded integer	                                                                                                                                                                                                                              | a0 = index of pseudorandom number generator, a1 = upper bound for random number	   | a0 = uniformly selectect from [0,bound]                       |
| RandFloat	        | 43	                   | Get a random float	                                                                                                                                                                                                                                        | a0 = index of pseudorandom number generator                                        | 	fa0 = uniformly randomly selected from from [0,1]            |
| RandDouble	       | 44	                   | Get a random double from the range 0.0-1.0                                                                                                                                                                                                                 | 	a0 = index of pseudorandom number generator	                                      | fa0 = the next pseudorandom                                   |
| ConfirmDialog	    | 50	                   | Service to display a message to user	                                                                                                                                                                                                                      | a0 = address of null-terminated string that is the message to user	                | a0 = Yes (0), No (1), or Cancel(2)                            |
| Read	             | 63	                   | Read from a file descriptor into a buffer                                                                                                                                                                                                                  | 	a0 = the file descriptor, a1 = address of the buffer, a2 = maximum length to read | 	a0 = the length read or -1 if error                          |
| Write	            | 64	                   | Write to a filedescriptor from a buffer	                                                                                                                                                                                                                   | a0 = the file descriptor, a1 = the buffer address,a2 = the length to write         | 	a0 = the number of charcters written                         |
| Exit2	            | 93	                   | Exits the program with a code	                                                                                                                                                                                                                             | a0 = the number to exit with                                                       | 	N/A                                                          |
| Open	             | 1024	                 | Opens a file from a path Only supported flags (a1) are read-only (0), write-only (1) and write-append (9). write-only flag creates file if it does not exist, so it is technically write-create. write-append will start writing at end of existing file.	 | a0 = Null terminated string for the path, a1 = flags                               | 	a0 = the file decriptor or -1 if an error occurred           |
